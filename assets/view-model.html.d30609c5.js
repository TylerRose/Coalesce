import{_ as d,r as i,o as c,c as h,b as e,d as o,w as s,e as t}from"./app.83c59791.js";const u={},p=e("h1",{id:"typescript-viewmodels",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#typescript-viewmodels","aria-hidden":"true"},"#"),t(" TypeScript ViewModels")],-1),_=e("p",null,"For each database-mapped type in your model, Coalesce will generate a TypeScript class that provides a multitude of functionality for interacting with the data on the client.",-1),b=t("These ViewModels are dependent on "),f={href:"https://knockoutjs.com/",target:"_blank",rel:"noopener noreferrer"},m=t("Knockout"),g=t(", and are designed to be used directly from Knockout bindings in your HTML. All data properties on the generated model are Knockout observables."),v={class:"table-of-contents"},y=t("Base Members"),w=t("Model-Specific Members"),k=t("Configuration"),C=t("DataSources"),M=t("Data Properties"),S=t("Enum Members"),O=t("Collection Navigation Property Helpers"),T=t("Reference Navigation Property Helpers"),x=t("Instance Method Members"),K=e("h2",{id:"base-members",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#base-members","aria-hidden":"true"},"#"),t(" Base Members")],-1),j=e("p",null,"The following base members are available to all generated ViewModel classes:",-1),V=t("String that will be passed to the server when loading and saving that allows for data trimming via C# Attributes. See "),P=t("Includes String"),D=t("."),F=e("p",null,"Flag to use to determine if this item is checked. Only provided for convenience.",-1),I=e("p",null,"Flag to use to determine if this item is selected. Only provided for convenience.",-1),E=e("p",null,"Flag to use to determine if this item is being edited. Only provided for convenience.",-1),L=e("p",null,[t("Toggles the "),e("code",null,"isEditing"),t(" flag.")],-1),A=e("p",null,"Flag to use to determine if this item is expanded. Only provided for convenience.",-1),R=e("p",null,[t("Toggles the "),e("code",null,"isExpanded"),t(" flag.")],-1),B=e("p",null,"Flag to use to determine if this item is shown. Only provided for convenience.",-1),N=e("p",null,[t("Toggles the "),e("code",null,"isSelected"),t(" flag.")],-1),G=e("p",null,"Sets isSelected(true) on this object and clears on the rest of the items in the parent collection.",-1),H=e("p",null,"Dirty Flag. Set when a value on the model changes. Reset when the model is saved or reloaded.",-1),J=e("p",null,"True once the data has been loaded.",-1),Q=e("p",null,"True if the object is loading.",-1),U=e("p",null,"True if the object is currently saving.",-1),W=e("p",null,"Returns true if the current object, or any of its children, are saving.",-1),q=e("p",null,"Loads the object from the server based on the id specified. If no id is specified, the current id, is used if one is set.",-1),z=e("p",null,"Loads any child objects that have an ID set, but not the full object. This is useful when creating an object that has a parent object and the ID is set on the new child.",-1),X=e("p",null,"Loads this object from a data transfer object received from the server.",-1),Y=e("ul",null,[e("li",null,[e("code",null,"force"),t(" - Will override the check against isLoading that is done to prevent recursion.")]),e("li",null,[e("code",null,"allowCollectionDeletes"),t(" - Set true when entire collections are loaded. True is the default. In some cases only a partial collection is returned, set to false to only add/update collections.")])],-1),Z=e("p",null,"Deletes the object without any prompt for confirmation.",-1),$=e("p",null,"Deletes the object if a prompt for confirmation is answered affirmatively.",-1),ee=e("p",null,"Contains the error message from the last failed call to the server.",-1),te=e("p",null,[t("Register a callback to be called when a save is done. Returns "),e("code",null,"true"),t(" if the callback was registered, or "),e("code",null,"false"),t(" if the callback was already registered.")],-1),oe=e("p",null,"Saves this object into a data transfer object to send to the server.",-1),ne=e("p",null,"Saves the object to the server and then calls a callback. Returns false if there are validation errors.",-1),se=e("p",null,"Parent of this object, if this object was loaded as part of a hierarchy.",-1),ae=e("p",null,"Parent of this object, if this object was loaded as part of list of objects.",-1),le=e("p",null,"URL to a stock editor for this object.",-1),ie=e("p",null,"Displays an editor for the object in a modal dialog.",-1),re=e("p",null,"Triggers any validation messages to be shown, and returns a bool that indicates if there are any validation errors.",-1),de=e("p",null,"ValidationIssues returned from the server when trying to persist data",-1),ce=e("p",null,"List of warnings found during validation. Saving is still allowed with warnings present.",-1),he=e("p",null,"List of errors found during validation. Any errors present will prevent saving.",-1),ue=e("h2",{id:"model-specific-members",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#model-specific-members","aria-hidden":"true"},"#"),t(" Model-Specific Members")],-1),pe=e("p",null,[t("The following members are generated for each generated ViewModel class and are unique to each class. The examples below are based on a type named "),e("code",null,"Person"),t(".")],-1),_e=e("h3",{id:"configuration",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#configuration","aria-hidden":"true"},"#"),t(" Configuration")],-1),be=t("A static configuration object for configuring all instances of the ViewModel's type is created. See "),fe=t("ViewModel Configuration"),me=t("."),ge=t("An per-instance configuration object for configuring each specific ViewModel instance is created. See "),ve=t("ViewModel Configuration"),ye=t("."),we=e("h3",{id:"datasources",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#datasources","aria-hidden":"true"},"#"),t(" DataSources")],-1),ke=t("For each of the "),Ce=t("Data Sources"),Me=t(" for a model, a class will be added to a namespace named "),Se=e("code",null,"ListViewModels.<ClassName>DataSources",-1),Oe=t(". This namespace can always be accessed on both "),Te=e("code",null,"ViewModel",-1),xe=t(" and "),Ke=e("code",null,"ListViewModel",-1),je=t(" instances via the "),Ve=e("code",null,"dataSources",-1),Pe=t(" property, and class instances can be assigned to the "),De=e("code",null,"dataSource",-1),Fe=t(" property."),Ie=e("h3",{id:"data-properties",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#data-properties","aria-hidden":"true"},"#"),t(" Data Properties")],-1),Ee=e("p",null,[t("For each exposed property on the underlying EF POCO, a "),e("code",null,"KnockoutObservable<T>"),t(" property will exist on the TypeScript model. For navigation properties, these will be typed with the corresponding TypeScript ViewModel for the other end of the relationship. For collections (including collection navigation properties), these properties will be "),e("code",null,"KnockoutObservableArray<T>"),t(" objects.")],-1),Le=e("h3",{id:"enum-members",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#enum-members","aria-hidden":"true"},"#"),t(" Enum Members")],-1),Ae=e("p",null,[t("For each "),e("code",null,"enum"),t(" property on your POCO, the following will be created:")],-1),Re=e("p",null,[t("A "),e("code",null,"KnockoutComputed<string>"),t(" property that will provide the text to display for that property.")],-1),Be=e("p",null,[t("A static array of objects with properties "),e("code",null,"id"),t(" and "),e("code",null,"value"),t(" that represent all the values of the enum.")],-1),Ne=e("p",null,[t("A TypeScript enum that mirrors the C# enum directly. This enum is in a sub-namespace of "),e("code",null,"ViewModels"),t(" named the same as the class name.")],-1),Ge=e("h3",{id:"collection-navigation-property-helpers",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#collection-navigation-property-helpers","aria-hidden":"true"},"#"),t(" Collection Navigation Property Helpers")],-1),He=e("p",null,"For each collection navigation property on the POCO, the following members will be created:",-1),Je=t("A method that will add a new object to that collection property. If "),Qe=e("code",null,"autoSave",-1),Ue=t(" is specified, the auto-save behavior of the new object will be set to that value. Otherwise, the inherited default will be used (see "),We=t("ViewModel Configuration"),qe=t(")"),ze=e("p",null,[t("A "),e("code",null,"KnockoutComputed<string>"),t(" that evaluates to a relative url for the generated table view that contains only the items that belong to the collection navigation property.")],-1),Xe=e("h3",{id:"reference-navigation-property-helpers",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#reference-navigation-property-helpers","aria-hidden":"true"},"#"),t(" Reference Navigation Property Helpers")],-1),Ye=e("p",null,[t("For each reference navigation property on the POCO a method will be created that will call "),e("code",null,"showEditor"),t(" on that current value of the navigation property, or on a new instance if the current value is null.")],-1),Ze=t("For each reference navigation property, a "),$e=e("code",null,"KnockoutComputed<string>",-1),et=t(" property will be created that will provide the text to display for that property. This will be the property on the class annotated with "),tt=t("[ListText]"),ot=t("."),nt=e("h3",{id:"instance-method-members",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#instance-method-members","aria-hidden":"true"},"#"),t(" Instance Method Members")],-1),st=t("For each "),at=t("Instance Method"),lt=t(" on your POCO, a class and instance member will be created as described in "),it=t("Methods - Generated TypeScript"),rt=t(".");function dt(ct,ht){const r=i("ExternalLinkIcon"),a=i("router-link"),n=i("Prop"),l=i("RouterLink");return c(),h("div",null,[p,_,e("p",null,[b,e("a",f,[m,o(r)]),g]),e("nav",v,[e("ul",null,[e("li",null,[o(a,{to:"#base-members"},{default:s(()=>[y]),_:1})]),e("li",null,[o(a,{to:"#model-specific-members"},{default:s(()=>[w]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#configuration"},{default:s(()=>[k]),_:1})]),e("li",null,[o(a,{to:"#datasources"},{default:s(()=>[C]),_:1})]),e("li",null,[o(a,{to:"#data-properties"},{default:s(()=>[M]),_:1})]),e("li",null,[o(a,{to:"#enum-members"},{default:s(()=>[S]),_:1})]),e("li",null,[o(a,{to:"#collection-navigation-property-helpers"},{default:s(()=>[O]),_:1})]),e("li",null,[o(a,{to:"#reference-navigation-property-helpers"},{default:s(()=>[T]),_:1})]),e("li",null,[o(a,{to:"#instance-method-members"},{default:s(()=>[x]),_:1})])])])])]),K,j,o(n,{def:"includes: string",lang:"ts"}),e("p",null,[V,o(l,{to:"/concepts/includes.html"},{default:s(()=>[P]),_:1}),D]),o(n,{def:"isChecked: KnockoutObservable<boolean>",lang:"ts"}),F,o(n,{def:"isSelected: KnockoutObservable<boolean>",lang:"ts"}),I,o(n,{def:"isEditing: KnockoutObservable<boolean>",lang:"ts"}),E,o(n,{def:"toggleIsEditing () => void",lang:"ts"}),L,o(n,{def:"isExpanded: KnockoutObservable<boolean>",lang:"ts"}),A,o(n,{def:"toggleIsExpanded: () => void",lang:"ts"}),R,o(n,{def:"isVisible: KnockoutObservable<boolean>",lang:"ts"}),B,o(n,{def:"toggleIsSelected () => void",lang:"ts"}),N,o(n,{def:"selectSingle: (): boolean",lang:"ts"}),G,o(n,{def:"isDirty: KnockoutObservable<boolean>",lang:"ts"}),H,o(n,{def:"isLoaded: KnockoutObservable<boolean>",lang:"ts"}),J,o(n,{def:"isLoading: KnockoutObservable<boolean>",lang:"ts"}),Q,o(n,{def:"isSaving: KnockoutObservable<boolean>",lang:"ts"}),U,o(n,{def:"isThisOrChildSaving: KnockoutComputed<boolean>",lang:"ts"}),W,o(n,{def:"load: id: any, callback?: (self: T) => void): JQueryPromise<any> | undefined",lang:"ts"}),q,o(n,{def:"loadChildren: callback?: () => void) => void",lang:"ts"}),z,o(n,{def:"loadFromDto: data: any, force?: boolean, allowCollectionDeletes?: boolean) => void",lang:"ts"}),X,Y,o(n,{def:"deleteItem: callback?: (self: T) => void): JQueryPromise<any> | undefined",lang:"ts"}),Z,o(n,{def:"deleteItemWithConfirmation: callback?: () => void, message?: string): JQueryPromise<any> | undefined",lang:"ts"}),$,o(n,{def:"errorMessage: KnockoutObservable<string>",lang:"ts"}),ee,o(n,{def:"onSave: callback: (self: T) => void): boolean",lang:"ts"}),te,o(n,{def:"saveToDto: () => any",lang:"ts"}),oe,o(n,{def:"save: callback?: (self: T) => void): JQueryPromise<any> | boolean | undefined",lang:"ts"}),ne,o(n,{def:"parent: any",lang:"ts"}),se,o(n,{def:"parentCollection: KnockoutObservableArray<T>",lang:"ts"}),ae,o(n,{def:"editUrl: KnockoutComputed<string>",lang:"ts"}),le,o(n,{def:"showEditor: callback?: any): JQueryPromise<any>",lang:"ts"}),ie,o(n,{def:"validate: (): boolean",lang:"ts"}),re,o(n,{def:"validationIssues: any",lang:"ts"}),de,o(n,{def:"warnings: KnockoutValidationErrors",lang:"ts"}),ce,o(n,{def:"errors: KnockoutValidationErrors",lang:"ts"}),he,ue,pe,_e,o(n,{def:"static coalesceConfig: Coalesce.ViewModelConfiguration<Person>",lang:"ts",id:"member-class-config"}),e("p",null,[be,o(l,{to:"/stacks/ko/client/model-config.html"},{default:s(()=>[fe]),_:1}),me]),o(n,{def:"coalesceConfig: Coalesce.ViewModelConfiguration<Person>",lang:"ts",id:"member-instance-config"}),e("p",null,[ge,o(l,{to:"/stacks/ko/client/model-config.html"},{default:s(()=>[ve]),_:1}),ye]),we,o(n,{def:`
public dataSources = ListViewModels.PersonDataSources;
public dataSource: DataSource<Person> = new this.dataSources.Default();`,lang:"ts",id:"code-data-source-members"}),e("p",null,[ke,o(l,{to:"/modeling/model-components/data-sources.html"},{default:s(()=>[Ce]),_:1}),Me,Se,Oe,Te,xe,Ke,je,Ve,Pe,De,Fe]),Ie,o(n,{def:`
public personId: KnockoutObservable<number | null> = ko.observable(null);
public fullName: KnockoutObservable<string | null> = ko.observable(null);
public gender: KnockoutObservable<number | null> = ko.observable(null);
public companyId: KnockoutObservable<number | null> = ko.observable(null);
public company: KnockoutObservable<ViewModels.Company | null> = ko.observable(null);
public addresses: KnockoutObservableArray<ViewModels.Address> = ko.observableArray([]);
public birthDate: KnockoutObservable<moment.Moment | null> = ko.observable(moment());`,lang:"ts",id:"code-data-members"}),Ee,Le,Ae,o(n,{def:"public genderText: KnockoutComputed<string | null>",lang:"ts"}),Re,o(n,{def:`public genderValues: Coalesce.EnumValue[] = [ 
    { id: 1, value: 'Male' },
    { id: 2, value: 'Female' },
    { id: 3, value: 'Other' },
];`,lang:"ts",id:"code-enum-members"}),Be,o(n,{def:`export namespace Person {
    export enum GenderEnum {
        Male = 1,
        Female = 2,
        Other = 3,
    };
}`,lang:"ts","no-class":"",id:"code-enum-def"}),Ne,Ge,He,o(n,{def:"public addToAddresses: (autoSave?: boolean) => ViewModels.Address;",lang:"ts"}),e("p",null,[Je,Qe,Ue,o(l,{to:"/stacks/ko/client/model-config.html"},{default:s(()=>[We]),_:1}),qe]),o(n,{def:"public addressesListUrl: KnockoutComputed<string>;",lang:"ts"}),ze,Xe,o(n,{def:"public showCompanyEditor: (callback?: any) => void;",lang:"ts"}),Ye,o(n,{def:"public companyText: KnockoutComputed<string>;",lang:"ts"}),e("p",null,[Ze,$e,et,o(l,{to:"/modeling/model-components/attributes/list-text.html"},{default:s(()=>[tt]),_:1}),ot]),nt,o(n,{def:`public readonly getBirthDate = new Person.GetBirthDate(this);
public static GetBirthDate = class GetBirthDate extends Coalesce.ClientMethod<Person, moment.Moment> { ... };`,lang:"ts",id:"code-instance-method-members"}),e("p",null,[st,o(l,{to:"/modeling/model-components/methods.html"},{default:s(()=>[at]),_:1}),lt,o(l,{to:"/stacks/ko/client/methods.html"},{default:s(()=>[it]),_:1}),rt])])}const pt=d(u,[["render",dt],["__file","view-model.html.vue"]]);export{pt as default};
